# é‚®ä»¶

## ä¸ºä»€ä¹ˆä½¿ç”¨ mq (chatgpt)
> MQ å‡ºåœºï¼Œæ˜¯ä¸ºäº†è§£å†³ä¸‰ä»¶â€œç°å®ä¸–ç•Œçš„é—®é¢˜â€
> 1ï¸âƒ£ é‚®ä»¶ä¸æ˜¯â€œå¼ºä¸€è‡´æ€§â€éœ€æ±‚ï¼Œä½†è¦â€œæœ€ç»ˆä¸€å®šå‘â€
>
> æ³¨å†ŒéªŒè¯ç ã€æ‰¾å›å¯†ç è¿™ç±»é‚®ä»¶ï¼š
>
> å¯ä»¥æ™š 10 ç§’
>
> ä¸èƒ½ä¸å‘
>
> æ›´ä¸èƒ½å‘ä¸¤æ¬¡
>
> MQ çš„æœ¬è´¨ä½œç”¨æ˜¯ï¼š
> æŠŠâ€œä¸šåŠ¡å®Œæˆâ€å’Œâ€œå‰¯ä½œç”¨æ‰§è¡Œâ€è§£è€¦
>
> æµç¨‹ä»è¿™æ ·ï¼š
>
> ç”¨æˆ·è¯·æ±‚ â†’ ç”ŸæˆéªŒè¯ç  â†’ ç›´æ¥å‘é‚®ä»¶
>
>
> å˜æˆï¼š
>
> ç”¨æˆ·è¯·æ±‚ â†’ ç”ŸæˆéªŒè¯ç  â†’ å‘é€æ¶ˆæ¯ï¼ˆæˆåŠŸï¼‰
>                               â†“
>                          MQ æŒä¹…åŒ–
>                               â†“
>                      é‚®ä»¶æœåŠ¡æ…¢æ…¢æ¶ˆè´¹
>
>
> åªè¦æ¶ˆæ¯è¿› MQ æˆåŠŸï¼Œ
> ä½ å°±å¯ä»¥ç†ç›´æ°”å£®åœ°å‘Šè¯‰ç”¨æˆ·ï¼š
> â€œæˆ‘ä»¬å·²ç»å¤„ç†äº†ã€‚â€
>
> 2ï¸âƒ£ é‚®ä»¶å¤±è´¥å¯ä»¥é‡è¯•ï¼Œè€Œä¸æ˜¯å½“åœºç¿»è½¦
>
> ç°å®ä¸–ç•Œé‡Œï¼ŒSMTP æ˜¯ä¼šæŠ½é£çš„ã€‚
>
> ç½‘ç»œæŠ–
>
> é‚®ç®±æœåŠ¡é™æµ
>
> DNS é—®é¢˜
>
> ä¸´æ—¶ 5xx
>
> å¦‚æœä½ ç›´æ¥å‘é‚®ä»¶ï¼š
>
> å¤±è´¥äº†æ€ä¹ˆåŠï¼Ÿ
>
> é‡è¯•å‡ æ¬¡ï¼Ÿ
>
> é‡è¯•é—´éš”ï¼Ÿ
>
> é‡è¯•å¤±è´¥æ€ä¹ˆè®°å½•ï¼Ÿ
>
> MQ è‡ªå¸¦çš„å“²å­¦æ˜¯ï¼š
>
> å¤±è´¥æ˜¯å¸¸æ€ï¼Œé‡è¯•æ˜¯è®¾è®¡çš„ä¸€éƒ¨åˆ†
>
> ä½ å¯ä»¥ï¼š
>
> æ¶ˆè´¹å¤±è´¥è‡ªåŠ¨é‡è¯•
>
> è¶…è¿‡æ¬¡æ•°è¿›æ­»ä¿¡é˜Ÿåˆ—
>
> åå°äººå·¥è¡¥å‘
>
> è¿™ä¸€æ•´å¥—ï¼Œ@Async æ˜¯å®Œå…¨ä¸å…·å¤‡çš„ã€‚
>
> 3ï¸âƒ£ æµé‡æ´ªå³°ä¸‹ï¼ŒMQ æ˜¯â€œç¼“å†²å«â€
>
> æƒ³è±¡ä¸€ä¸ªå¾ˆç°å®çš„åœºæ™¯ï¼š
>
> è¿è¥ææ´»åŠ¨
>
> 10 ä¸‡äººåŒæ—¶æ³¨å†Œ
>
> æ¯äººä¸€å°é‚®ä»¶
>
> å¦‚æœæ˜¯å¼‚æ­¥ç›´å‘ï¼š
>
> çº¿ç¨‹æ± ç¬é—´æ‰“æ»¡
>
> SMTP è¢«æ‰“çˆ†
>
> é‚®ä»¶å…¨çº¿å¤±è´¥
>
> å¦‚æœæ˜¯ MQï¼š
>
> è¯·æ±‚åªè´Ÿè´£â€œå†™æ¶ˆæ¯â€
>
> MQ æ’é˜Ÿ
>
> æ¶ˆè´¹è€…æŒ‰è‡ªå·±çš„èŠ‚å¥æ…¢æ…¢å‘
>
> è¿™æ˜¯å…¸å‹çš„å‰Šå³°å¡«è°·ã€‚
>
> é‚£æ˜¯ä¸æ˜¯æ‰€æœ‰é¡¹ç›®éƒ½è¯¥ä¸Š MQï¼Ÿ
>
> å½“ç„¶ä¸æ˜¯ã€‚
>
> ç”¨ä¸€å¥å¾ˆå®åœ¨çš„è¯åˆ’çº¿ï¼š
>
> å¦‚æœé‚®ä»¶å¤±è´¥ä¸ä¼šå½±å“æ ¸å¿ƒä¸šåŠ¡ï¼Œ
> å¼‚æ­¥å°±å¤Ÿï¼›
> å¦‚æœé‚®ä»¶å¤±è´¥éœ€è¦â€œå¯è¿½è¸ªã€å¯è¡¥å¿ã€å¯é‡è¯•â€ï¼Œ
> é‚£å°±è¯¥ä¸Š MQã€‚
>
> ä½ è¿™ä¸ªåœºæ™¯æ‹†ä¸€ä¸‹ï¼š
>
> æ³¨å†ŒéªŒè¯ç 
>
> å¶å°”å¤±è´¥ï¼šç”¨æˆ·åˆ·æ–°å†æ¥ä¸€æ¬¡
>
> ä¸ç®—ç¾éš¾
> ğŸ‘‰ å¼‚æ­¥ OK
>
> æ‰¾å›å¯†ç  / æ”¯ä»˜é€šçŸ¥ / åˆåŒç­¾ç½²
>
> å‘ä¸å‡ºå» = å®¢æœçˆ†ç‚¸
> ğŸ‘‰ MQ åˆç†
>
> ä¸€ä¸ªå·¥ç¨‹å¸ˆåˆ¤æ–­æ˜¯å¦ä¸Š MQ çš„å¿ƒæ³•
>
> åˆ«é—®â€œè¦ä¸è¦ç”¨ MQâ€ï¼Œé—®è¿™ä¸‰ä¸ªé—®é¢˜ï¼š
>
> è¿™ä»¶äº‹å¤±è´¥äº†ï¼Œæˆ‘èƒ½ä¸èƒ½æ¥å—ï¼Ÿ
>
> å¤±è´¥åï¼Œæˆ‘æœ‰æ²¡æœ‰åŠæ³•è¡¥æ•‘ï¼Ÿ
>
> æˆ‘èƒ½ä¸èƒ½çŸ¥é“å®ƒå¤±è´¥è¿‡ï¼Ÿ
>
> å¦‚æœä¸‰é—®é‡Œæœ‰ä¸¤ä¸ªç­”æ¡ˆæ˜¯å¦å®šçš„â€”â€”
> é‚£å°±åˆ«çŠ¹è±«ï¼ŒMQã€‚



# å®ç°
å…ˆ é…ç½® rabbitmq src/main/java/org/ppnovel/web/configuration/RabbitConfiguration.java

æ³¨æ„ï¼Œè¦è½¬json å˜æˆ string æ‰èƒ½é€šä¿¡

```java
@Bean
public RabbitTemplate rabbitTemplate(
    ConnectionFactory connectionFactory,
    MessageConverter messageConverter
) {
    RabbitTemplate template = new RabbitTemplate( connectionFactory);
    template.setMessageConverter(messageConverter);
    return template;
}
```